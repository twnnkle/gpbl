---
import './index.scss';

import { Image } from 'astro:assets';

import newImg from '@assets/pages/news/news2/new-img.png';
---

<div class="history-carousel">
  <Image
    class="history-carousel-active-img"
    src="https://dummyimage.com/126x71/000000&text=+"
    width="636"
    height="357"
    alt="Активная картинка слайдера"
  />

  <div id="carouselNewPage" class="carousel slide history-carousel-items">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="row flex-nowrap">
          <div class="col-3">
            <Image
              src="https://dummyimage.com/126x71/000000&text=+"
              width="636"
              height="357"
              alt="Картинка слайдера"
            />
          </div>
          <div class="col-3">
            <Image
              src="https://dummyimage.com/126x71/FF7F50&text=+"
              width="636"
              height="357"
              alt="Картинка слайдера"
            />
          </div>
          <div class="col-3">
            <Image
              src="https://dummyimage.com/126x71/5F9EA0&text=+"
              width="636"
              height="357"
              alt="Картинка слайдера"
            />
          </div>
          <div class="col-3">
            <Image
              src="https://dummyimage.com/126x71/FFFACD&text=+"
              width="636"
              height="357"
              alt="Картинка слайдера"
            />
          </div>
        </div>
      </div>

      <div class="carousel-item">
        <div class="row flex-nowrap">
          <div class="col-3">
            <Image
              src="https://dummyimage.com/126x71/000000&text=+"
              width="636"
              height="357"
              alt="Картинка слайдера"
            />
          </div>
          <div class="col-3">
            <Image
              src="https://dummyimage.com/126x71/FF7F50&text=+"
              width="636"
              height="357"
              alt="Картинка слайдера"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="carousel-btns history-carousel-items__btns">
      <button
        class="carousel-btn"
        type="button"
        data-bs-target="#carouselNewPage"
        data-bs-slide="prev"
      >
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_419_1599)">
            <rect width="16" height="16" fill="white" fill-opacity="0.01"
            ></rect>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.3539 1.64564C11.4004 1.69209 11.4374 1.74726 11.4626 1.80801C11.4878 1.86875 11.5008 1.93388 11.5008 1.99964C11.5008 2.06541 11.4878 2.13053 11.4626 2.19128C11.4374 2.25202 11.4004 2.3072 11.3539 2.35364L5.70687 7.99964L11.3539 13.6456C11.4478 13.7395 11.5005 13.8669 11.5005 13.9996C11.5005 14.1324 11.4478 14.2598 11.3539 14.3536C11.26 14.4475 11.1326 14.5003 10.9999 14.5003C10.8671 14.5003 10.7398 14.4475 10.6459 14.3536L4.64587 8.35364C4.5993 8.3072 4.56236 8.25202 4.53715 8.19128C4.51195 8.13053 4.49897 8.06541 4.49897 7.99964C4.49897 7.93388 4.51195 7.86875 4.53715 7.80801C4.56236 7.74726 4.5993 7.69209 4.64587 7.64564L10.6459 1.64564C10.6923 1.59908 10.7475 1.56214 10.8082 1.53693C10.869 1.51172 10.9341 1.49875 10.9999 1.49875C11.0656 1.49875 11.1308 1.51172 11.1915 1.53693C11.2522 1.56214 11.3074 1.59908 11.3539 1.64564Z"
              fill="#212529"></path>
          </g>
          <defs>
            <clipPath id="clip0_419_1599">
              <rect width="16" height="16" fill="white"></rect>
            </clipPath>
          </defs>
        </svg>
      </button>
      <button
        class="carousel-btn carousel-btn_next"
        type="button"
        data-bs-target="#carouselNewPage"
        data-bs-slide="next"
      >
        <svg
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_419_1599)">
            <rect width="16" height="16" fill="white" fill-opacity="0.01"
            ></rect>
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M11.3539 1.64564C11.4004 1.69209 11.4374 1.74726 11.4626 1.80801C11.4878 1.86875 11.5008 1.93388 11.5008 1.99964C11.5008 2.06541 11.4878 2.13053 11.4626 2.19128C11.4374 2.25202 11.4004 2.3072 11.3539 2.35364L5.70687 7.99964L11.3539 13.6456C11.4478 13.7395 11.5005 13.8669 11.5005 13.9996C11.5005 14.1324 11.4478 14.2598 11.3539 14.3536C11.26 14.4475 11.1326 14.5003 10.9999 14.5003C10.8671 14.5003 10.7398 14.4475 10.6459 14.3536L4.64587 8.35364C4.5993 8.3072 4.56236 8.25202 4.53715 8.19128C4.51195 8.13053 4.49897 8.06541 4.49897 7.99964C4.49897 7.93388 4.51195 7.86875 4.53715 7.80801C4.56236 7.74726 4.5993 7.69209 4.64587 7.64564L10.6459 1.64564C10.6923 1.59908 10.7475 1.56214 10.8082 1.53693C10.869 1.51172 10.9341 1.49875 10.9999 1.49875C11.0656 1.49875 11.1308 1.51172 11.1915 1.53693C11.2522 1.56214 11.3074 1.59908 11.3539 1.64564Z"
              fill="#212529"></path>
          </g>
          <defs>
            <clipPath id="clip0_419_1599">
              <rect width="16" height="16" fill="white"></rect>
            </clipPath>
          </defs>
        </svg>
      </button>
    </div>
  </div>
</div>

<script>
  const thumbs = document.querySelectorAll('.history-carousel-items img');
  const mainImage = document.querySelector('.history-carousel-active-img');

  thumbs.forEach((thumb) => {
    thumb.addEventListener('click', () => {
      mainImage.src = thumb.src;
    });
  });
</script>

<!-- ---
import { Image } from 'astro:assets';
import './index.scss';

const images = [
  'https://dummyimage.com/126x71/000000&text=+',
  'https://dummyimage.com/126x71/FF7F50&text=+',
  'https://dummyimage.com/126x71/5F9EA0&text=+',
  'https://dummyimage.com/126x71/FFFACD&text=+',
	'https://dummyimage.com/126x71/DDA0DD&text=+',
	'https://dummyimage.com/126x71/AFEEEE&text=+',
];
---

<div class="history-carousel">
  <div class="history-carousel__main mb-4">
    <Image
      src="https://dummyimage.com/126x71/000000&text=+"
      width="636"
      height="357"
      alt="Основное изображение"
      id="mainImage"
    />
  </div>

  <div id="carouselThumbs" class="carousel slide">
    <div class="carousel-inner">
      <div class="carousel-item active">
        <div class="row flex-nowrap">
          {
            images.map((img, index) => (
              <div class="col-3">
                <Image
                  src={img}
                  width="250"
                  height="150"
                  alt={`Изображение ${index + 1}`}
                  class="thumb-image"
                  data-index={index}
                />
              </div>
            ))
          }
        </div>
      </div>

			<div class="carousel-item">
        <div class="row flex-nowrap">
          {
            images.map((img, index) => (
              <div class="col-3">
                <Image
                  src={img}
                  width="250"
                  height="150"
                  alt={`Изображение ${index + 1}`}
                  class="thumb-image"
                  data-index={index}
                />
              </div>
            ))
          }
        </div>
      </div>
    </div>
    <button
      class="carousel-control-prev custom-nav-btn"
      type="button"
      data-bs-target="#carouselThumbs"
      data-bs-slide="prev"
    >
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Предыдущий</span>
    </button>
    <button
      class="carousel-control-next custom-nav-btn"
      type="button"
      data-bs-target="#carouselThumbs"
      data-bs-slide="next"
    >
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Следующий</span>
    </button>
  </div>
</div>

<style>
  .carousel-inner {
    overflow-x: hidden;
  }

  .custom-nav-btn {
    width: 40px;
    height: 40px;
    background: rgba(0,0,0,0.5);
    border-radius: 50%;
    top: 50%;
    transform: translateY(-50%);
  }

  .custom-nav-btn:hover {
    background: rgba(0,0,0,0.7);
  }

  .carousel-control-prev {
    left: 10px;
  }

  .carousel-control-next {
    right: 10px;
  }

  .carousel-control-prev-icon,
  .carousel-control-next-icon {
    width: 20px;
    height: 20px;
  }
</style>

<script>
  const thumbs = document.querySelectorAll('.thumb-image');
  const mainImage = document.getElementById('mainImage');

  thumbs.forEach((thumb) => {
    thumb.addEventListener('click', () => {
      mainImage.src = thumb.src;
    });
  });
</script> -->
